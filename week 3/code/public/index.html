<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="navBar.js"></script>
    <title>Home page</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>

<body>

    <header>
        <div class="title">
            <h1>Artists Studio</h1>
        </div>
        <div class="dropdown" >
            <nav>
                <button class="menu" onclick="myFunction()" >Menu</button>
            </nav>
            </div>
       <img class="logo" src="assets/logo.png">

       
            <div id="myDropdown" class="nav">
                <ul class="menu-bar">
                    <li>
                        <a id="home" class="hidden" href="/index.html">Home</a>
                    </li>
               <li> 
                   <a id="createPosts" class="hidden" href="/new_posts.html">Create New Post</a>
               </li>
               <li>
                <a id="viewPosts" class="hidden" href="/postsTimeline.html">See your timeline</a>  
               </li>
               <li>
                <a id="logoutLink" class="hidden" onclick="logout()" href="/index.html">Logout</a>
               </li>
                </ul>
            </div>
            
    </header>

    <h1 class="page_title">Welcome Online Artists!</h1>
    <img class="artPhoto" src="assets/artPhoto1.png">
    <img class="artPhoto1" src="assets/artPhoto2.png">
    <img class="artPhoto2" src="assets/artPhoto3.png">


    <div class="login_box">
        <a id="loginLink" class="hidden" href="/login.html"><button>Login</button></a>
        <a id="register" class="hidden" href="/register.html"><button>Register</button></a>
        <div id="deatils"></div>
    </div>
    
</body>

<script>

    function logout() {
        window.sessionStorage.removeItem('userToken')
        window.location = '/login.html';
    }

    let loggIn = document.getElementById("deatils")

    document.addEventListener('DOMContentLoaded', (event) => {

        let loggedIn =  window.sessionStorage.getItem('userToken')
        let body = document.getElementsByTagName('body')[0];
        // prints out user
        if(loggedIn){
            text = 'Logged In as ' + sessionStorage.getItem('username')
            document.getElementById('logoutLink').classList.remove('hidden')
            document.getElementById('createPosts').classList.remove('hidden')
            document.getElementById('viewPosts').classList.remove('hidden')
            document.getElementById('home').classList.remove('hidden')

        }
        else {
            text= "Not logged in yet, Please Login or Register to see more"
            document.getElementById('loginLink').classList.remove('hidden')
            document.getElementById('register').classList.remove('hidden')

        }
        loggIn.insertAdjacentHTML("beforeend", `<p>${text}</p>`)
    })
</script>

</html>
